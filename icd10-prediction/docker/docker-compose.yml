version: "3.9"                                   # Docker Compose version

services:
  app:                                           # Main ICD10 prediction service
    build:
      context: .                                 # Project root as build context
      dockerfile: Dockerfile                     # Dockerfile used for build
    container_name: icd10-prediction-app         # Container name
    volumes:
      - .:/app                                   # Mount full project
      - ./data:/app/data                         # Mount data directory
      - ./artifacts:/app/artifacts               # Mount artifacts directory
      - ./logs:/app/logs                         # Mount logs directory
    env_file:
      - .env                                     # Environment variables
    ports:
      - "8000:8000"                              # Expose FastAPI port
    command: python main.py --run-api            # Start FastAPI service
